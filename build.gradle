plugins {
	id 'nebula.maven-publish' version '4.9.1'
	id 'nebula.source-jar' version '4.9.1'
	id 'nebula.javadoc-jar' version '4.9.1'
	id 'org.sonarqube' version '2.2.1'
	id 'com.gorylenko.gradle-git-properties' version '1.4.17'
}

apply plugin: 'java'
apply plugin: 'jacoco'

version '1.1.3'
group 'com.movix'

sourceCompatibility = 1.6

task fatJar(type: Jar) {
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

dependencies {
	compile('org.restlet.jse:org.restlet:2.2.3')
	compile('org.restlet.jse:org.restlet.ext.jackson:2.2.3')
	compile('org.slf4j:slf4j-api:1.7.22')
			
	testCompile('junit:junit:4.12')
}

test {
	enabled = false
}

gitProperties {
    dateFormat = "yyyy-MM-dd'T'HH:mmZ"
}

sonarqube {
    properties {
        property "sonar.projectKey", "com.movix:localytics-push-client"
        property "sonar.projectName", "localytics-push-client"
        property "sonar.jacoco.reportPaths", "${project.buildDir}/jacoco/test.exec"
    }
}

wrapper {
	gradleVersion = '3.2.1'
}